# Инструкция
Данные скрипты работают в двух средах:
1. Pycharm (парсер)
2. Jupiter Notebook (трансформация и загрузка данных в БД)

## Оглавление
- **[Работа с парсером Pycharm](#Работа-с-парсером-Pycharm)**
- **[Сбор и загрузка данных Jupiter Notebook](#Сбор-и-загрузка-данных-Jupiter-Notebook)**



___
### Работа с парсером Pycharm

Переносим файлы проекта в нашу директорию и устанавливаем все зависимости, которые находятся в файле **requirements.txt**.

После этого можно приступать к загрузке данных.
Основное взаимодействие происходит в файле main.py.
В нем основное место занимает словарь с конфигом, который мы настраиваем под себя в зависимости от ситуации
```python
dict_config = {
    'type_flow': 'export',
    'url_flow': URL_EXPORT,
    'year': 2023,
    'month_number': d,
    'key_unit_value': 'radiousd',
    'key_unit_qty': 'radioqty'
}
```

Если же нам нужно скачать конкретные страны или месяцы, то заполняем по шаблону следующие списки
```python
needed_country_list = []
need_month_list = []
```

После можно приступать к запуску скрипта. За один заход скачиваются данные по импорту или экспорту в стоимостном представлении и весовом.

### Сбор и загрузка данных Jupiter Notebook

Перед началом работы необходимо установить нужные библиотеки
```python
# !pip install pandas
# !pip install numpy
# !pip install pytest-warnings
# !pip install contextlib2
# !pip install psycopg2
# !pip install SQLAlchemy
```
После проинициализировать свои "секретные" переменные необходимые для подключения в Вашей БД.
```python
# Инициализация подключений для работы с БД
engine = psycopg2.connect(user=os.getenv('USER'),
                          # пароль, который указали при установке PostgreSQL
                          password=os.getenv('PASSWORD'),
                          host=os.getenv('HOST'),
                          port=os.getenv('PORT'),
                          database=os.getenv('DATABASE'))
```

Дальше просто прокликиваем блоки "тетрадки". 
При обработки не обязательно выполнять блок с **Перечень всех кодов и названий продуктов**, так как он нужен для валидации продуктов и кодов.
На корректность сборки его выполнение/не выполнение никак не влияет

☀ Удачного использования!
